{"ast":null,"code":"import axios from 'axios';\nimport { config } from './config';\nimport { store } from '../store/index';\nconst instance = axios.create({\n  baseURL: config.SERVER_HOST,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 100000\n});\nstore.subscribe(async () => {\n  var token = store.getState().user.token;\n\n  if (token) {\n    instance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  }\n});\nexport const API = {\n  userApi: {\n    registerUser: async data => {\n      console.log(\"data in api method===>\", data);\n      return instance.post(config.REGISTER_USER, data).then(res => {\n        return res;\n      }).catch(err => {\n        return err;\n      });\n    }\n  }\n};\nexport default API;","map":{"version":3,"names":["axios","config","store","instance","create","baseURL","SERVER_HOST","headers","timeout","subscribe","token","getState","user","defaults","common","API","userApi","registerUser","data","console","log","post","REGISTER_USER","then","res","catch","err"],"sources":["/Users/ampleworks/Documents/register_login_redux/my-app/src/api/api.js"],"sourcesContent":["import axios from 'axios';\nimport { config } from './config';\n\nimport {store} from '../store/index'\nconst instance = axios.create({\n  baseURL: config.SERVER_HOST,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  timeout: 100000,\n  \n});\nstore.subscribe(async () => {\n  var token = store.getState().user.token;\n  if (token) {\n    instance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  }\n});\n\nexport const API = {\n  userApi: {\n    registerUser: async (data) => {\n      console.log(\"data in api method===>\", data);\n      return instance\n        .post(config.REGISTER_USER, data)\n        .then(res => { return res; })\n        .catch(err => { return err; });\n    },\n  }\n};\nexport default API;"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,UAAvB;AAEA,SAAQC,KAAR,QAAoB,gBAApB;AACA,MAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAN,CAAa;EAC5BC,OAAO,EAAEJ,MAAM,CAACK,WADY;EAE5BC,OAAO,EAAE;IACP,gBAAgB;EADT,CAFmB;EAK5BC,OAAO,EAAE;AALmB,CAAb,CAAjB;AAQAN,KAAK,CAACO,SAAN,CAAgB,YAAY;EAC1B,IAAIC,KAAK,GAAGR,KAAK,CAACS,QAAN,GAAiBC,IAAjB,CAAsBF,KAAlC;;EACA,IAAIA,KAAJ,EAAW;IACTP,QAAQ,CAACU,QAAT,CAAkBN,OAAlB,CAA0BO,MAA1B,CAAiC,eAAjC,IAAqD,UAASJ,KAAM,EAApE;EACD;AACF,CALD;AAOA,OAAO,MAAMK,GAAG,GAAG;EACjBC,OAAO,EAAE;IACPC,YAAY,EAAE,MAAOC,IAAP,IAAgB;MAC5BC,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,IAAtC;MACA,OAAOf,QAAQ,CACZkB,IADI,CACCpB,MAAM,CAACqB,aADR,EACuBJ,IADvB,EAEJK,IAFI,CAECC,GAAG,IAAI;QAAE,OAAOA,GAAP;MAAa,CAFvB,EAGJC,KAHI,CAGEC,GAAG,IAAI;QAAE,OAAOA,GAAP;MAAa,CAHxB,CAAP;IAID;EAPM;AADQ,CAAZ;AAWP,eAAeX,GAAf"},"metadata":{},"sourceType":"module"}